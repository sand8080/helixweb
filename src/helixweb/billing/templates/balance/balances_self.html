{% extends "base_billing.html" %}

{% load i18n %}

{% block title %}
    {% trans "balance" %}
{% endblock %}

{% block content %}

<div class="bordered">
    <table class="filter_object center">

        <tr>
            <th>
                <h2 class="menu_linked">{% trans "balances" %}</h2>
            </th>
            <td></td>
        </tr>
    </table>
</div>

<br>

<table class="center wide bordered">

    {% if balances_error %}

        <tr class="objects_data">
            <td>
                <span class="errormessage">{% trans balances_error %}</span>
            </td>
        </tr>

    {% else %}

        {% if balances %}
            <tr>
                <td>
                    <table class="center balance">
                        {% for balance in balances %}
                            <tr>
                                <th colspan="2">
                                    {{ balance.currency_code }}

                                    {% if not balance.is_active %}
                                    <span class="small_text">(balance disabled)</span>
                                    {% endif %}
                                </th>
                             </tr>
                             <tr {% if not balance.is_active %}class="disabled"{% endif %}>
                                 <td>{% trans "real amount" %}</td>
                                 <td>{{ balance.available_real_amount }}</td>
                             </tr>
                             <tr {% if not balance.is_active %}class="disabled"{% endif %}>
                                 <td>{% trans "virtual amount" %}</td>
                                 <td>{{ balance.available_virtual_amount }}</td>
                             </tr>
                             <tr {% if not balance.is_active %}class="disabled"{% endif %}>
                                 <td>{% trans "locked amount" %}</td>
                                 <td>{{ balance.locked_amount }}</td>
                             </tr>

                             {% if balance.overdraft_limit %}
                             <tr {% if not balance.is_active %}class="disabled"{% endif %}>
                                 <td>{% trans "overdraft limit" %}</td>
                                 <td>{{ balance.overdraft_limit }}</td>
                             </tr>
                             {% endif %}
                             {% if balance.locking_order %}
                             <tr {% if not balance.is_active %}class="disabled"{% endif %}>
                                 <td>{% trans "locking order" %}</td>
                                 <td>{{ balance.locking_order }}</td>
                             </tr>
                             {% endif %}
                             <tr><td></td></tr>
                         {% endfor %}
                    </table>
                </td>
            </tr>

        {% else %}

            <tr><th>{% trans "no balances found" %}</th></tr>

        {% endif %}

    {% endif %}

</table>

{% endblock %}
